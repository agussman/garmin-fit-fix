<div class="container">
    <h1>Fit Fixer</h1>
    <form (ngSubmit)="onSubmit()" #activityForm="ngForm">
      <div class="form-group">
        <label for="title">Title</label>
        <input type="text" class="form-control" id="title" required [(ngModel)]="model.title" name="title">
      </div>

      <div class="form-group">
        <label for="activityType">Activity Type</label>
        <select class="form-control" id="activityType" required [(ngModel)]="model.activityType" name="activityType">
          <option *ngFor="let aType of activityTypes" [value]="aType">{{aType}}</option>
        </select>
      </div>

      <button type="submit" class="btn btn-success" [disabled]="!activityForm.form.valid">Submit</button>
      TODO: remove this: {{model.title}}
    </form>


  <form [formGroup]='statusFormGroup' #statusNgForm="ngForm" (submit)='handleSubmit($event, statusNgForm, statusFormGroup)'>
    <div class="form-group">
        <label for="file">Choose .FIT File</label>
            <input #myInput type="file"
                   id="file"
                   (change)="handleFileInput($event.target.files)">
    </div>
    <div class="form-group">
        <label for="fileDescription">Activity Title</label>
        <input type="text" class="form-control" id='fileDescription' required name='fileDescription' formControlName='fileDescription'>
          <div *ngIf='fileDescription.invalid && (fileDescription.dirty || fileDescription.touched)'>
            <div *ngIf='fileDescription.errors.required'>
                Content is required.
            </div>
            <div *ngIf='fileDescription.errors.maxlength'>
                Max length is 280
            </div>
            <div *ngIf='fileDescription.errors.minlength'>
                Min length is 4
            </div>
        </div>
    </div>

    <button type='submit' class='btn btn-default' [disabled]='statusFormGroup.invalid'>Submit</button>
    <button type='button' class='btn btn-default' (click)='resetAllInputs()'>Reset</button>
    <button type='button' class='btn btn-default' [disabled]='!uploadComplete' (click)='handleDownload()'>Download</button>
  </form>




  Progress:
<div style='width:%;background-color:#007cae;'><span *ngIf='uploadProgress > 25'>%</span></div>

</div>